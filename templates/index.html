<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–•—Ä–µ—Å—Ç–∏–∫–∏-–ù–æ–ª–∏–∫–∏ üéÆ Online</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1>‚úï –•—Ä–µ—Å—Ç–∏–∫–∏-–ù–æ–ª–∏–∫–∏ ‚óØ</h1>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –ì–û–õ–û–í–ù–ï –ú–ï–ù–Æ ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="menu" class="menu">
            <p class="subtitle">–û–±–µ—Ä—ñ—Ç—å —Ä–µ–∂–∏–º –≥—Ä–∏:</p>
            <button class="btn btn-pvp" onclick="startGame('pvp')">
                üë• –ì—Ä–∞–≤–µ—Ü—å vs –ì—Ä–∞–≤–µ—Ü—å
            </button>
            <button class="btn btn-pve" onclick="startGame('pve')">
                ü§ñ –ì—Ä–∞–≤–µ—Ü—å vs –ö–æ–º–ø'—é—Ç–µ—Ä
            </button>
            <div class="divider"><span>–∞–±–æ –≥—Ä–∞–π –æ–Ω–ª–∞–π–Ω</span></div>
            <button class="btn btn-online-create" onclick="showOnlineMenu('create')">
                üåê –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫—ñ–º–Ω–∞—Ç—É
            </button>
            <button class="btn btn-online-join" onclick="showOnlineMenu('join')">
                üîó –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –¥–æ –∫—ñ–º–Ω–∞—Ç–∏
            </button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –û–ù–õ–ê–ô–ù –õ–û–ë–Ü ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="online-lobby" class="menu hidden">
            <!-- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫—ñ–º–Ω–∞—Ç–∏ -->
            <div id="lobby-create" class="hidden">
                <p class="subtitle">–°—Ç–≤–æ—Ä—é—î–º–æ –∫—ñ–º–Ω–∞—Ç—É‚Ä¶</p>
                <div class="room-code-display">
                    <span class="label">–ö–æ–¥ –∫—ñ–º–Ω–∞—Ç–∏:</span>
                    <span id="room-code-text" class="room-code">------</span>
                    <button class="btn btn-copy" onclick="copyRoomCode()" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏">üìã</button>
                </div>
                <p id="lobby-status" class="lobby-status">‚è≥ –ß–µ–∫–∞—î–º–æ —Å—É–ø–µ—Ä–Ω–∏–∫–∞‚Ä¶</p>
                <div class="lobby-spinner" id="lobby-spinner"></div>
            </div>

            <!-- –ü—Ä–∏—î–¥–Ω–∞–Ω–Ω—è –¥–æ –∫—ñ–º–Ω–∞—Ç–∏ -->
            <div id="lobby-join" class="hidden">
                <p class="subtitle">–í–≤–µ–¥—ñ—Ç—å –∫–æ–¥ –∫—ñ–º–Ω–∞—Ç–∏:</p>
                <div class="join-form">
                    <input type="text" id="join-code-input" class="code-input"
                           maxlength="6" placeholder="ABC123"
                           autocomplete="off" spellcheck="false">
                    <button class="btn btn-online-join" onclick="joinRoom()">–£–≤—ñ–π—Ç–∏ üöÄ</button>
                </div>
                <p id="join-error" class="error-msg hidden"></p>
            </div>

            <button class="btn btn-menu" onclick="backToMenu()" style="margin-top: 1.5rem;">
                ‚Üê –ù–∞–∑–∞–¥ –¥–æ –º–µ–Ω—é
            </button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –Ü–ì–†–û–í–ê –î–û–®–ö–ê ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div id="game" class="game hidden">
            <div class="status-bar">
                <span id="status" class="status">–•—ñ–¥: X</span>
                <span id="mode-badge" class="mode-badge"></span>
            </div>

            <!-- –û–Ω–ª–∞–π–Ω —ñ–Ω—Ñ–æ -->
            <div id="online-info" class="online-info hidden">
                <span id="your-symbol" class="your-symbol"></span>
                <span id="online-room-code" class="online-room-code"></span>
            </div>

            <div class="board" id="board">
                <!-- 9 –∫–ª—ñ—Ç–∏–Ω–æ–∫ -->
            </div>

            <!-- –û–≤–µ—Ä–ª–µ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É -->
            <div id="result-overlay" class="result-overlay hidden">
                <div class="result-card">
                    <span id="result-emoji" class="result-emoji">üéâ</span>
                    <p id="result-text" class="result-text">–ü–µ—Ä–µ–º–æ–∂–µ—Ü—å!</p>
                    <p id="rematch-status" class="rematch-status hidden"></p>
                    <div class="result-buttons">
                        <button class="btn btn-restart" onclick="restartGame()">üîÑ –ì—Ä–∞—Ç–∏ —â–µ</button>
                        <button class="btn btn-menu" onclick="backToMenu()">üìã –ú–µ–Ω—é</button>
                    </div>
                </div>
            </div>

            <div class="game-controls">
                <button class="btn btn-restart" onclick="restartGame()">üîÑ –ù–æ–≤–∞ –≥—Ä–∞</button>
                <button class="btn btn-menu" onclick="backToMenu()">üìã –ú–µ–Ω—é</button>
            </div>

            <!-- –õ—ñ—á–∏–ª—å–Ω–∏–∫ -->
            <div class="scoreboard">
                <div class="score-item x-score">
                    <span class="score-label">‚úï (X)</span>
                    <span id="score-x" class="score-value">0</span>
                </div>
                <div class="score-item draw-score">
                    <span class="score-label">–ù—ñ—á–∏—è</span>
                    <span id="score-draw" class="score-value">0</span>
                </div>
                <div class="score-item o-score">
                    <span class="score-label">‚óØ (O)</span>
                    <span id="score-o" class="score-value">0</span>
                </div>
            </div>
        </div>

        <!-- Toast –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è -->
        <div id="toast" class="toast hidden"></div>
    </div>

    <!-- Socket.IO –∫–ª—ñ—î–Ω—Ç -->
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
